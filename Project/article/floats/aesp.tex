\begin{algorithm}
  \caption{Procedure AESP}\label{alg:aesp}
\begin{algorithmic}%[1]
  \Procedure{AESP}{$G_k, O_k$}
  \State $G_{k+1} \gets G_k$
  \ForAll{$o \in O_k$}
    \If {$o.\mathtt{num\_parents} = 1$}
      \If {$\beta(o) > \beta(\pi_1(o))$}
        \State $G_{k+1} \gets (G_{k+1} \setminus \set{\pi_1(o)}) \cup \set{o}$
      \EndIf
    \Else
      \If {$\beta(o) > \mathtt{max}(\beta(\pi_1(o)), \beta(\pi_2(o)))$}
      \State $\mathtt{tmp} \gets (G_{k+1} \setminus \{\pi_1(o), \pi_2(o)\})$ 
        \State $G_{k+1} \gets \mathtt{tmp} \cup \set{o} \cup \set{\rho}$
      \EndIf
    \EndIf
  \EndFor
\EndProcedure
\end{algorithmic}
\end{algorithm}
