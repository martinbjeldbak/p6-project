\begin{algorithm}
  \caption{Procedure AESP}\label{alg:aesp}
  \begin{algorithmic}[1]
  \Procedure{aesp}{$G_k, O_k$}
    \State $G_{k+1} \gets G_k$
    \ForAll{$o \in O_k$}
      \If {$o.\mathtt{num\_parents} = 1$}
        \If {$\beta(o) > \beta(o.p_1)$}
          \State $G_{k+1} \gets \left(G_{k+1} \setminus \set{o.p_1}\right) \cup \set{o}$
        \EndIf
      \Else
        \If {$\beta(o) > \max\left(\beta(o.p_1), \beta(o.p_2)\right)$}
        \State  $G_{k+1} \gets$ \begin{varwidth}[t]{\linewidth}$(G_{k+1} \setminus \{o.p_1, o.p_2\})$\par
          \hskip\algorithmicindent $\cup \set{o} \cup \set{\rho}$
        \end{varwidth}
        \EndIf
      \EndIf
    \EndFor
  \EndProcedure
  \end{algorithmic}
\end{algorithm}
