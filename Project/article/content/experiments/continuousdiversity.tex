\subsection{Continuous Diversity}\label{sec:continuousdiversity}
Our main goal with the experiments we perform is to see how diversity progresses throughout the many iterations a GA goes through. Furthermore, we must see if there are any significant differences between different diversity measures and replacement rules. To measure diversity, we use the fitness-based measurement, Hamming distance, and our own measure \dia, after each iteration (we will use iteration and generation interchangeably). The four replacement rules are Greedy Replacement, Ancestor Elitism, Single Parent Elitism, and Explore-Exploit. We run the experiments four times, one with each of the replacement rules.

We measured the average diversity of \num{100} runs over \num{2000} iterations, meaning each run initializes an entirely new population, and each population goes through \num{2000} iterations of procreation in the search for optimal solutions. After each iteration, diversity of the population is measured for each diversity measure. We then take the average diversity for each generation of the \num{100} runs. We made one exception, as we only ran \num{500} iterations on the Leaf dataset, because it is a smaller set consisting of only \num{340} instances. We saw no improvement in the population beyond this number of iterations, so there was no reason to continue for \num{1500} extra iterations. %These numbers show us how the diversity is progressing with the different replacement rules for the different problems.

%how much did we do it
%We use the average of the \num{100} runs, because we have randomness in our system. Each new population is initialized randomly. By taking the average we believe that we get a better picture of how the diversity is progressing.

\subsubsection{Results}
The results are presented through figures \ref{fig:dynamic-leaf} to \ref{fig:dynamic-snake}. The experiments performed on the Leaf data set is presented in \cref{fig:dynamic-leaf}, the XOR experiments are presented in \cref{fig:dynamic-xor}, and the Snake game results are presented in \cref{fig:dynamic-snake}. Each of these three figures contain four subfigures. The first three of these subfigures illustrate each diversity measure, with the fourth subfigure illustrating the average fitness for the four replacement rules throughout the iterations. We will not be discussing the fitness graph, it is there to illustrate how the populations improve with the different replacement rules.

\paragraph{Results of Leaf} By comparing the first three graphs in \cref{fig:dynamic-leaf}, we see that each replacement rule has somewhat the same curve fit for each diversity measure. Each diversity measure captures the intuition of the replacement rules, as described in \cref{sec:replacementrules}. An interesting observation is the irregular spike in diversity for the fitness-based measure around generation \num{50}. Why this happens is hard to say, due to the stochastic nature of the replacement rules.

\dia{} and Hamming distance measures look very similar for this data set. We can argue that \dia{} better illustrates how diverse the traits of the individuals are, as with the Hamming distance, we do not see diversity ever rise over \num{0.5}, even for the anecestor elitism replacement rule, which consistently introduces many random individuals. 

\input{drawings/dynamic-leaf-graphs}

\paragraph{Results of XOR} The results of each diversity measure presented in \cref{fig:dynamic-xor} are very similar to the Leaf data set above. Once again, we see the irregular spike in the graph presenting the fitness-based measure. Furthermore, it is interesting how \dia{} and Hamming distance are a constant factor apart for each replacement rule.%  Also, for this data set, the fitness-based measurement has an overall higher diversity compared to the other two data sets.%This means that for this experiment, the fitness-based measurement is closer to \dia{} than Hamming distance, as it is for the other results.

\input{drawings/dynamic-xor-graphs}

\paragraph{Results of Snake} The results shown in \cref{fig:dynamic-snake}, once again show a constant difference between the \dia{} and Hamming distance measures. The fitness-based measure is again very irregular, this time for the ancestor elitism replacement rule. Here, the plot falls and rises before it stabilises. For this data set, the fitness-based measurements are closer to Hamming distance --- another interesting observation.

\input{drawings/dynamic-snake-graphs}

\paragraph{The big picture} If we compare experiments run on each data set illustrated in \cref{fig:dynamic-leaf} to \cref{fig:dynamic-snake}, we see that at least one diversity measure stands out from the other two in each of the experiments. For example, the fitness-based graphs have some irregular curves, which are not easily explained. Because of this, combined with the fact that multiple individuals can have the same fitness yet behave very differently, we argue that fitness-based diversity does not represent the actual diversity very accurately. This measure is simple and does not need any extra computations, but it is not suitable for every problem. 

Another fact that is clear from the three experiments, is that \dia{} and Hamming distance do not vary much between the different problems. Each replacement rule is always around the same interval for these two measures. Fitness-based diversity is much more dependent on the problem, as its results are not regular. Each graph illustrating the fitness-based measurement is different from the others.

The experiments explained above show that there might be a correspondence between the phenotypic (\dia{}) diversity measure and the genotypic (Hamming distance) diversity measure. If we take a closer look at the graphs illustrating \dia{} and Hamming distance, we can see that they are scaled with a constant compared to each other. The Hamming distance is always below the \dia{} measurement.% So, the \dia{} shows the differences in the behaviour, and the Hamming distance shows the difference in the genetic make-up.  

When it comes to the fitness of the three experiments, it is clear to see that fitness is at its best when using the Explore-Exploit replacement rule. This rule does not have the most diverse population, but as we see, this is not necessarily a bad thing. This indicates that it is not the best solution to aim for a \perc{100} diverse population. One must find a balanced solution and take advantage of the fact that it is possible to switch between maintaining a high diversity and not doing so.
