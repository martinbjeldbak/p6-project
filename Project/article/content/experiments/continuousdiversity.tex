\subsection{Dynamic experiments}\label{sec:continuousdiversity}
Our main goal with the experiments we perform is to see how diversity progresses throughout the many iterations of a GA. Furthermore, we must see if there are any significant differences between different diversity measures and replacement rules. To measure diversity, we use a fitness-based measurement, Hamming distance, and our own measure, \dia. The four replacement rules are: Greedy Replacement, Ancestor Elitism, Single Parent Elitism, and MEEE, described in \cref{sec:replacementrules}. We run the experiments four times, one with each of the replacement rules.

For the snake and XOR problems, we measured the average diversity of \num{100} runs over \num{2000} iterations, meaning each run initializes an entirely new population, and each population goes through \num{2000} iterations of procreation in the search for optimal solutions. After each iteration, diversity of the population is measured for each diversity measure. We then take the average diversity for each generation of the \num{100} runs. For the leaf data set, we ran the same experiment only through \num{500} generations, because it is a smaller data set consisting of only \num{340} instances. This is due to the fact that we saw no improvement in the population beyond this number of iterations. 

\subsubsection{Results}
The results are presented in figures~\ref{fig:dynamic-leaf} through~\ref{fig:dynamic-snake}. The experiments performed on the leaf data set are presented in \cref{fig:dynamic-leaf}, the XOR experiments are presented in \cref{fig:dynamic-xor}, and the Snake game results are presented in \cref{fig:dynamic-snake}. Each of these three figures contain four plots. The first three of these plots illustrate each diversity measure, with the fourth plot illustrating the average fitness for the four replacement rules throughout the iterations. 

\paragraph{Results of Leaf} By comparing the first three plots in \cref{fig:dynamic-leaf}, we see that each replacement rule has somewhat the same curve fit for each diversity measure. Each diversity measure captures the intuition of the replacement rules. An interesting observation is the irregular spike in diversity for the fitness-based measure around generation \num{50}. Why this happens is hard to say, due to the stochastic nature of GAs.

\dia{} and Hamming distance measures look very similar for this data set. We can argue that \dia{} better illustrates how diverse the traits of the individuals are, because with the Hamming distance, we do not see diversity ever rise over \num{0.5}, even for the Ancestor Elitism replacement rule, which consistently introduces many randomly initialized individuals. 

\input{drawings/dynamic-leaf-graphs}

\paragraph{Results of XOR} The results of each diversity measure presented in \cref{fig:dynamic-xor} are very similar to the Leaf data set above. Once again, we see the irregular spike in the plot presenting the fitness-based measure. %Furthermore, it is interesting how \dia{} and Hamming distance are a constant factor apart for each replacement rule.%  Also, for this data set, the fitness-based measurement has an overall higher diversity compared to the other two data sets.%This means that for this experiment, the fitness-based measurement is closer to \dia{} than Hamming distance, as it is for the other results.

\input{drawings/dynamic-xor-graphs}

\paragraph{Results of Snake} The results shown in \cref{fig:dynamic-snake}, once again show a constant difference between the \dia{} and Hamming distance measures. The fitness-based measure is again very irregular, this time for the Ancestor Elitism replacement rule. Here, the plot falls and rises before it stabilises.

\input{drawings/dynamic-snake-graphs}

\paragraph{The big picture} If we compare experiments run on each data set illustrated in figures \ref{fig:dynamic-leaf} through \ref{fig:dynamic-snake}, we see that the fitness-based diversity measure stands out from the other two in each of the experiments. For example, the fitness-based plots have some irregular curves, which are not easily explained. Because of this, combined with the fact that multiple individuals can have the same fitness yet behave very differently, we argue that fitness-based diversity does not accurately represent the actual diversity. This measure is simple and does not need any extra computations, but it is not suitable for every problem. 

Another observation from the three experiments is that \dia{} and Hamming distance do not vary much between the different problems. Each replacement rule is always around the same interval for these two measures. Fitness-based diversity is much more dependent on the problem, as its results are not regular. In each figure presenting the dynamic experiments, the plot presenting the fitness-based measurement is notably different from the two other plots, presenting \dia{} and Hamming distance.

The experiments show that there might be a correspondence between the phenotypic \dia{} diversity measure and the genotypic Hamming distance diversity measure. If we take a closer look at the plots illustrating \dia{} and Hamming distance, we can see that they are scaled by a constant, compared to each other. The Hamming distance is always below the \dia{} measurement.% So, the \dia{} shows the differences in the behaviour, and the Hamming distance shows the difference in the genetic make-up.  

When it comes to the fitness of the three experiments, it is clear to see that fitness is at its best when using the MEEE replacement rule. This rule does not have the most diverse population, but as we see, this is not necessarily a bad thing. This indicates that it is not the best solution to aim for a highly diverse population, as stated in~\cite{Darwen00doesextra}. One must find a balanced solution and take advantage of the fact that it is possible to switch between maintaining a high diversity and not doing so, which is in correspondance with the results presented in \cite{Darwen00doesextra}.
